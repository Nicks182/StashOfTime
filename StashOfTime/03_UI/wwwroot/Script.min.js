function _App_Init(){G_HubConnection.invoke("ServerMessageHandler","Init")}function _Instruction_Receive(n){try{console.log(n);_HasH_SetHTML(n.HTMLs);_HasH_ProcessActions(n.Actions);switch(n.InstructionType){}_Busy_Hide()}catch(t){_Busy_Hide()}}function _Instruction_Send(n){try{_Busy_Show();var t=_HasH_InstructionFromBase64(n);console.log(t);_HasH_ProcessActions(t.Actions);G_HubConnection.invoke("ServerMessageHandler",_ToJSONString(t))}catch(i){_Busy_Hide();alert("Function: _Instruction_Send \nMsg: "+i)}}function _HasH_SetHTML(n){var t,i;try{for(t=null,i=0;i<n.length;i++)t=document.getElementById(n[i].TargetId),t!=null&&(t.style.display="none",n[i].IsAppend==!0?t.innerHTML+=n[i].HTML:t.innerHTML=n[i].HTML,t.style.display="")}catch(r){_HasH_LogError(r)}}function _HasH_ProcessActions(n){try{if(n)for(var t=0;t<n.length;t++)switch(n[t].Type){case"GetValue":_HasH_Action_Get(n[t]);break;case"SetValue":_HasH_Action_Set(n[t]);break;case"GetLocalStore":_HasH_Action_GetLocalStore(n[t]);break;case"SetLocalStore":_HasH_Action_SetLocalStore(n[t]);break;case"SetFocus":_HasH_Action_SetFocus(n[t]);break;case"SetHighlight":_HasH_Action_SetHighlight(n[t]);break;case"SetHidden":_HasH_Action_SetHidden(n[t]);break;case"SetModalState":_HasH_Action_SetModalState(n[t])}}catch(i){_HasH_LogError(i)}}function _HasH_Action_Get(n){n.Value=_HasH_Action_GetValue(n.TargetId)}function _HasH_Action_GetValue(n){try{var t=document.querySelector("#"+n);return t.querySelector("#Value")?_HasH_Action_GetValue(n+" #Value"):_HasProp(t,"value")==!0?t.value:_HasAttr(t,"value")==!0?t.getAttribute("value"):_HasAttr(t,"src")==!0?t.getAttribute("src"):null}catch(i){_HasH_LogError(i)}}function _HasH_Action_Set(n){_HasH_Action_SetValue(n.TargetId,n.Value)}function _HasH_Action_SetValue(n,t){try{var i=document.querySelector("#"+n);if(i.querySelector("#Value")){_HasH_Action_SetValue(n+" #Value",t);return}if(_HasProp(i,"value")==!0){i.value=t;return}if(_HasAttr(i,"value")==!0){i.setAttribute("value",t);return}if(_HasAttr(i,"src")==!0){i.setAttribute("src",t);return}}catch(r){_HasH_LogError(r)}}function _HasH_Action_GetLocalStore(n){try{n.Value=localStorage.getItem(n.TargetId)}catch(t){_HasH_LogError(t)}}function _HasH_Action_SetLocalStore(n){try{localStorage.setItem(n.TargetId,n.Value)}catch(t){_HasH_LogError(t)}}function _HasH_Action_SetFocus(n){try{var t=document.getElementById(n.TargetId);t!=null&&P_Component.focus()}catch(i){_HasH_LogError(i)}}function _HasH_Action_SetHighlight(n){try{var t=document.getElementById(n.TargetId);t!=null&&P_Component.select()}catch(i){_HasH_LogError(i)}}function _HasH_Action_SetModalState(n){try{n.Value=="0"&&_Modal_Hide(n.TargetId)}catch(t){_HasH_LogError(t)}}function _HasH_Action_SetHidden(n){try{var t=document.getElementById(n.TargetId);t!=null&&t.setAttribute("ishidden",n.Value)}catch(i){_HasH_LogError(i)}}function _Busy_Show(){G_Busy_Wait_Timeout=setTimeout(function(){document.getElementById("Busy_Modal").setAttribute("ishidden","0")},G_Busy_Wait_Miliseconds)}function _Busy_Hide(){clearTimeout(G_Busy_Wait_Timeout);document.getElementById("Busy_Modal").setAttribute("ishidden","1")}function _Modal_Hide(n){const t=document.getElementById(n);t&&t.remove()}function _HasH_LogError(n){console.log(n)}function _ToJSONString(n){return JSON.stringify(n)}function _HasH_InstructionFromBase64(n){try{return JSON.parse(atob(n))}catch(t){_HasH_LogError(t)}}function _HasProp(n,t){if(n&&t)for(const i in n)if(i===t)return!0;return!1}function _HasAttr(n,t){return n&&t?n.hasAttribute(t):!1}var G_ConnectionUrl="/ServerHub",G_HubConnection=(new signalR.HubConnectionBuilder).withUrl(G_ConnectionUrl).build(),G_Busy_Wait_Miliseconds,G_Busy_Wait_Timeout;G_HubConnection.on("ClientMessageHandler",_Instruction_Receive);document.addEventListener("DOMContentLoaded",()=>{G_HubConnection.start().then(function(){console.log("Hub Status: "+G_HubConnection.state);_App_Init()})});G_Busy_Wait_Miliseconds=100;G_Busy_Wait_Timeout=null;